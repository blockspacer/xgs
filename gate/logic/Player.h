//------------------------------------------------------------------------
// * @filename: Player.h
// *
// * @brief: 玩家
// *
// * @author: XGM
// * @date: 2018/05/11
//------------------------------------------------------------------------
#pragma once

#include <stdint.h>

#include "common/net/NetHeartbeat.h"

class Player
{
public:
	Player();
	virtual ~Player();
public:
	//------------------------------------------------------------------------
	// 初始化
	//------------------------------------------------------------------------
	virtual void Init(int64_t nPlayerGUID, int64_t nSessionID);

	//------------------------------------------------------------------------
	// 重连
	//------------------------------------------------------------------------
	virtual void Reconnect(int64_t nSessionID);

	//------------------------------------------------------------------------
	// 断开连接
	//------------------------------------------------------------------------
	virtual void OnDisconnect();

	//------------------------------------------------------------------------
	// 获取玩家GUID
	//------------------------------------------------------------------------
	int64_t GetPlayerGUID() { return m_nPlayerGUID; }

	//------------------------------------------------------------------------
	// 获取玩家连接ID
	//------------------------------------------------------------------------
	int64_t GetSessionID() { return m_nSessionID; }

	//------------------------------------------------------------------------
	// 获得网络心跳数据
	//------------------------------------------------------------------------
	NetHeartbeat& GetNetHeartbeat() { return m_Heartbeat; }

	//------------------------------------------------------------------------
	// 检测网络心跳
	//------------------------------------------------------------------------
	virtual bool CheckHeartbeat(int64_t nNow);

private:
	// PlayerGUID
	int64_t m_nPlayerGUID = 0;

	// 连接ID
	int64_t m_nSessionID = 0;

	// 网络心跳数据
	NetHeartbeat m_Heartbeat;
};
